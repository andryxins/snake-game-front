{"version":3,"sources":["Components/TopScoresList/TopScoresList.module.scss","Components/TopScoresListItem/TopScoresListItem.module.scss","Pages/LoginPage/LoginPage.module.scss","Pages/GamePage/GamePage.module.scss","Pages/StatsPage/StatsPage.module.scss","../node_modules/@ion-phaser/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","Components/Game/GameOverScene.js","Components/Game/GameScene.js","libs/getUserFromLS.js","libs/updateUserInLS.js","ApiRequests/ApiRequests.js","Components/Game/game.config.js","Components/Game/StartScene.js","Components/Game/Game.js","Pages/GamePage/GamePage.js","Pages/LoginPage/LoginPage.js","Components/TopScoresListItem/TopScoresListItem.js","Components/TopScoresList/TopScoresList.js","Pages/StatsPage/StatsPage.js","App.js","index.js"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","isWin","scores","snake","food","cursors","roundScores","level","scoresInfo","timer","a","JSON","parse","localStorage","getItem","user","console","log","updatedUser","setItem","stringify","getAllUsers","axios","get","res","data","signUp","userData","post","login","postResault","token","headers","Authorization","gameConfig","scoresToWin","timeForGame","GameOverScene","resault","this","cameras","main","setBackgroundColor","game","scene","add","GameScene","saveGameResault","winDisplay","catch","loseDisplay","text","fill","fontSize","setOrigin","setInteractive","on","nextLevelHandler","bind","start","getUserFromLS","updateUserInLS","Phaser","Scene","load","image","Food","Class","Extends","GameObjects","Image","initialize","x","y","call","setTexture","setPosition","total","children","eat","Snake","speed","headPosition","Geom","Point","body","group","head","create","alive","moveTime","tail","heading","direction","update","time","move","faceLeft","faceRight","faceUp","faceDown","Math","Wrap","Actions","ShiftPosition","getChildren","GetFirst","grow","collideWithFood","updateGrid","grid","each","segment","bx","by","setTimeout","input","keyboard","createCursorKeys","delta","left","isDown","right","up","down","setText","repositionFood","clearTimeout","testGrid","validLocations","push","length","pos","floor","random","StartScene","onContinueHandler","onStartNewGameHandler","Game","state","width","height","type","AUTO","Component","GamePage","useLocalStorage","className","Styles","gameContainer","to","LoginPage","userDataFromLS","useState","setLogin","history","useHistory","onClick","userId","isExist","writeStorage","_id","_","btn","value","onChange","target","topScores","topLevel","disabled","TopScoresListItem","listItem","TopScoresList","users","setUsers","useEffect","getUsers","list","listTitle","listTitleItem","sort","b","StatsPage","usersList","App","isVisited","setIsVisited","path","exact","component","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.85d9f698.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"TopScoresList_list__98ref\",\"listTitle\":\"TopScoresList_listTitle__COYT8\",\"listTitleItem\":\"TopScoresList_listTitleItem__8gfX1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"TopScoresListItem_listItem__24pFw\",\"login\":\"TopScoresListItem_login__KZ6UO\",\"scores\":\"TopScoresListItem_scores__z3mOV\",\"level\":\"TopScoresListItem_level__guGbJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"LoginPage_input__3E3Lp\",\"btn\":\"LoginPage_btn__sjJIY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameContainer\":\"GamePage_gameContainer__2Ktxd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"StatsPage_usersList__1qn4c\"};","var map = {\n\t\"./ion-phaser.entry.js\": [\n\t\t102,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 75;\nmodule.exports = webpackAsyncContext;","import Phaser from 'phaser';\nimport getUserFromLS from '../../libs/getUserFromLS';\nimport updateUserInLS from '../../libs/updateUserInLS';\nimport { postResault } from '../../ApiRequests/ApiRequests';\nimport GameScene from './GameScene';\nimport gameConfig from './game.config';\n\nlet isWin;\nlet scores;\n\nexport default class GameOverScene extends Phaser.Scene {\n  constructor() {\n    super('GameOverScene');\n  }\n  init(data) {\n    isWin = data.resault >= gameConfig.scoresToWin;\n    scores = data.resault;\n  }\n\n  preload() {\n    this.cameras.main.setBackgroundColor('#24252A');\n    this.game.scene.add('GameScene', GameScene);\n  }\n  create() {\n    if (isWin) {\n      return this.saveGameResault()\n        .then(() => this.winDisplay())\n        .catch((e) => console.log(e));\n    } else {\n      return this.loseDisplay();\n    }\n  }\n\n  winDisplay() {\n    this.add\n      .text(310, 50, `You win :-)`, {\n        fill: '#0f0',\n        fontSize: 40,\n      })\n      .setOrigin(0.5);\n\n    this.add\n      .text(300, 200, `Next Level`, {\n        fill: '#0f0',\n        fontSize: 20,\n      })\n      .setOrigin(0.5)\n      .setInteractive()\n      .on('pointerdown', this.nextLevelHandler.bind(this));\n  }\n\n  loseDisplay() {\n    this.add\n      .text(300, 50, `You lose :-(`, {\n        fill: '#0f0',\n        fontSize: 40,\n      })\n      .setOrigin(0.5);\n\n    this.add\n      .text(300, 200, `Restart`, {\n        fill: '#0f0',\n        fontSize: 20,\n      })\n      .setOrigin(0.5)\n      .setInteractive()\n      .on('pointerdown', () => this.scene.start('GameScene'));\n  }\n\n  async nextLevelHandler() {\n    await this.saveGameResault();\n    this.scene.start('GameScene');\n  }\n\n  async saveGameResault() {\n    const user = await getUserFromLS();\n\n    const updatedUser = {\n      ...user,\n      level: (user.level += 1),\n      scores: (user.scores += scores),\n    };\n\n    await postResault(updatedUser)\n      .then(() => updateUserInLS(updatedUser))\n      .catch((e) => console.log(e));\n  }\n}\n","import Phaser from 'phaser';\nimport getUserFromLS from '../../libs/getUserFromLS';\nimport GameOverScene from './GameOverScene';\nimport gameConfig from './game.config';\n\nlet snake;\nlet food;\nlet cursors;\nlet roundScores;\nlet level;\nlet scoresInfo;\nlet timer;\n\n//  Direction consts\nconst UP = 0;\nconst DOWN = 1;\nconst LEFT = 2;\nconst RIGHT = 3;\n\nexport default class GameScene extends Phaser.Scene {\n  constructor() {\n    super('GameScene');\n  }\n\n  async init() {\n    roundScores = 0;\n    const user = await getUserFromLS();\n    level = user.level;\n  }\n\n  preload() {\n    this.cameras.main.setBackgroundColor('#24252A');\n    this.game.scene.add('GameOverScene', GameOverScene);\n    this.load.image('food', './coin.png');\n    this.load.image('player', './player.png');\n  }\n\n  create() {\n    const Food = new Phaser.Class({\n      Extends: Phaser.GameObjects.Image,\n\n      initialize: function Food(scene, x, y) {\n        Phaser.GameObjects.Image.call(this, scene);\n\n        this.setTexture('food');\n        this.setPosition(x * 16, y * 16);\n        this.setOrigin(0);\n\n        this.total = 0;\n\n        scene.children.add(this);\n      },\n\n      eat: function () {\n        this.total++;\n      },\n    });\n\n    const Snake = new Phaser.Class({\n      initialize: function Snake(scene, x, y, speed) {\n        this.headPosition = new Phaser.Geom.Point(x, y);\n\n        this.body = scene.add.group();\n\n        this.head = this.body.create(x * 10, y * 10, 'player');\n        this.head.setOrigin(0);\n\n        this.alive = true;\n\n        this.speed = speed;\n\n        this.moveTime = 0;\n\n        this.tail = new Phaser.Geom.Point(x, y);\n\n        this.heading = RIGHT;\n        this.direction = RIGHT;\n      },\n\n      update: function (time) {\n        if (time >= this.moveTime) {\n          return this.move(time);\n        }\n      },\n\n      faceLeft: function () {\n        if (this.direction === UP || this.direction === DOWN) {\n          this.heading = LEFT;\n        }\n      },\n\n      faceRight: function () {\n        if (this.direction === UP || this.direction === DOWN) {\n          this.heading = RIGHT;\n        }\n      },\n\n      faceUp: function () {\n        if (this.direction === LEFT || this.direction === RIGHT) {\n          this.heading = UP;\n        }\n      },\n\n      faceDown: function () {\n        if (this.direction === LEFT || this.direction === RIGHT) {\n          this.heading = DOWN;\n        }\n      },\n\n      move: function (time) {\n        switch (this.heading) {\n          case LEFT:\n            this.headPosition.x = Phaser.Math.Wrap(\n              this.headPosition.x - 1,\n              0,\n              38\n            );\n            break;\n\n          case RIGHT:\n            this.headPosition.x = Phaser.Math.Wrap(\n              this.headPosition.x + 1,\n              0,\n              38\n            );\n            break;\n\n          case UP:\n            this.headPosition.y = Phaser.Math.Wrap(\n              this.headPosition.y - 1,\n              0,\n              18\n            );\n            break;\n\n          case DOWN:\n            this.headPosition.y = Phaser.Math.Wrap(\n              this.headPosition.y + 1,\n              0,\n              18\n            );\n            break;\n          default:\n            break;\n        }\n\n        this.direction = this.heading;\n\n        Phaser.Actions.ShiftPosition(\n          this.body.getChildren(),\n          this.headPosition.x * 16,\n          this.headPosition.y * 16,\n          1,\n          this.tail\n        );\n\n        const hitBody = Phaser.Actions.GetFirst(\n          this.body.getChildren(),\n          { x: this.head.x, y: this.head.y },\n          1\n        );\n\n        if (hitBody) {\n          this.alive = false;\n\n          return false;\n        } else {\n          this.moveTime = time + this.speed;\n\n          return true;\n        }\n      },\n\n      grow: function () {\n        const newPart = this.body.create(this.tail.x, this.tail.y, 'player');\n\n        newPart.setOrigin(0);\n      },\n\n      collideWithFood: function (food) {\n        if (this.head.x === food.x && this.head.y === food.y) {\n          this.grow();\n\n          food.eat();\n\n          if (this.speed > 20 && food.total % 5 === 0) {\n            this.speed -= 5;\n          }\n\n          return true;\n        } else {\n          return false;\n        }\n      },\n\n      updateGrid: function (grid) {\n        this.body.children.each(function (segment) {\n          const bx = segment.x / 16;\n          const by = segment.y / 16;\n\n          grid[by][bx] = false;\n        });\n\n        return grid;\n      },\n    });\n\n    food = new Food(this, 3, 4);\n\n    snake = new Snake(this, 8, 8, 100 - level * 5);\n    timer = setTimeout(() => {\n      snake.alive = false;\n      this.scene.start('GameOverScene', { resault: roundScores });\n    }, gameConfig.timeForGame);\n\n    cursors = this.input.keyboard.createCursorKeys();\n\n    scoresInfo = this.add.text(500, 50, `${roundScores}`, {\n      fill: '#0f0',\n    });\n  }\n\n  update(time, delta) {\n    if (!snake.alive) {\n      this.scene.start('GameOverScene');\n      return;\n    }\n\n    if (cursors.left.isDown) {\n      snake.faceLeft();\n    } else if (cursors.right.isDown) {\n      snake.faceRight();\n    } else if (cursors.up.isDown) {\n      snake.faceUp();\n    } else if (cursors.down.isDown) {\n      snake.faceDown();\n    }\n\n    if (snake.update(time)) {\n      if (snake.collideWithFood(food)) {\n        roundScores += 10;\n        scoresInfo.setText(`${roundScores}`);\n        this.repositionFood();\n\n        if (roundScores >= gameConfig.scoresToWin) {\n          clearTimeout(timer);\n          this.scene.start('GameOverScene', { resault: roundScores });\n        }\n      }\n    }\n  }\n\n  repositionFood() {\n    const testGrid = [];\n\n    for (let y = 0; y < 17; y++) {\n      testGrid[y] = [];\n\n      for (let x = 0; x < 37; x++) {\n        testGrid[y][x] = true;\n      }\n    }\n\n    snake.updateGrid(testGrid);\n\n    const validLocations = [];\n\n    for (let y = 0; y < 17; y++) {\n      for (let x = 0; x < 37; x++) {\n        if (testGrid[y][x] === true) {\n          validLocations.push({ x: x, y: y });\n        }\n      }\n    }\n\n    if (validLocations.length > 0) {\n      const pos =\n        validLocations[Math.floor(Math.random() * validLocations.length)];\n\n      food.setPosition(pos.x * 16, pos.y * 16);\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","export default async () => {\n  try {\n    const user = await JSON.parse(localStorage.getItem('snakePlayer'));\n\n    if (user) {\n      return user;\n    } else {\n      return null;\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};\n","export default async (updatedUser) => {\n  try {\n    localStorage.setItem('snakePlayer', JSON.stringify(updatedUser));\n\n    return true;\n  } catch (e) {\n    console.log(e);\n  }\n};\n","import axios from 'axios';\n\nexport const getAllUsers = () =>\n  axios\n    .get('https://boiling-scrubland-96345.herokuapp.com/users')\n    .then((res) => res.data);\n\nexport const signUp = (userData) =>\n  axios\n    .post('https://boiling-scrubland-96345.herokuapp.com/users/new-user', {\n      login: userData,\n    })\n    .then((res) => res.data);\n\nexport const checkIsUserExist = (userId) =>\n  axios\n    .get(`https://boiling-scrubland-96345.herokuapp.com/users/${userId}`)\n    .then((res) => res.data);\n\nexport const postResault = ({ scores, level, token }) =>\n  axios.post(\n    'https://boiling-scrubland-96345.herokuapp.com/users/update-resault',\n    { scores, level },\n    {\n      headers: { Authorization: token },\n    }\n  );\n","const gameConfig = {\n  scoresToWin: 100,\n  timeForGame: 60000,\n};\n\nexport default gameConfig;\n","import Phaser from 'phaser';\nimport getUserFromLS from '../../libs/getUserFromLS';\nimport updateUserInLS from '../../libs/updateUserInLS';\nimport GameScene from './GameScene';\n\nexport default class StartScene extends Phaser.Scene {\n  constructor() {\n    super('StartScene');\n  }\n  preload() {\n    this.cameras.main.setBackgroundColor('#24252A');\n    this.game.scene.add('GameScene', GameScene);\n  }\n  async create() {\n    this.add\n      .text(150, 200, 'Continue', {\n        fill: '#0f0',\n      })\n      .setInteractive()\n      .on('pointerdown', this.onContinueHandler.bind(this));\n    this.add\n      .text(300, 200, 'Start New Game', {\n        fill: '#0f0',\n      })\n      .setInteractive()\n      .on('pointerdown', this.onStartNewGameHandler.bind(this));\n\n    const { scores } = await getUserFromLS();\n    this.add.text(500, 50, `${scores}`, {\n      fill: '#0f0',\n    });\n  }\n\n  onContinueHandler() {\n    this.scene.start('GameScene');\n  }\n\n  async onStartNewGameHandler() {\n    const user = await getUserFromLS();\n\n    await updateUserInLS({ ...user, scores: 0, level: 1 });\n    this.scene.start('GameScene');\n  }\n}\n","import React, { Component } from 'react';\nimport Phaser from 'phaser';\nimport { IonPhaser } from '@ion-phaser/react';\nimport StartScene from './StartScene';\n\nclass Game extends Component {\n  state = {\n    initialize: true,\n\n    game: {\n      width: 600,\n      height: 300,\n      type: Phaser.AUTO,\n      scene: StartScene,\n    },\n  };\n\n  render() {\n    const { initialize, game } = this.state;\n    return <IonPhaser game={game} initialize={initialize} />;\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { Link, Redirect } from 'react-router-dom';\nimport Game from '../../Components/Game/Game';\nimport Styles from './GamePage.module.scss';\n\nconst GamePage = () => {\n  const [user] = useLocalStorage('snakePlayer');\n\n  return user ? (\n    <div className=\"container\">\n      <div className=\"pageWrapper\">\n        <h1 className=\"pageTitle\">GamePage</h1>\n        <div className={Styles.gameContainer}>\n          <Game />\n        </div>\n        <Link className=\"link\" to=\"/stats\">\n          Top scores\n        </Link>\n      </div>\n    </div>\n  ) : (\n    <Redirect to=\"/login\" />\n  );\n};\n\nexport default GamePage;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useLocalStorage, writeStorage } from '@rehooks/local-storage';\nimport { signUp, checkIsUserExist } from '../../ApiRequests/ApiRequests';\nimport Styles from './LoginPage.module.scss';\n\nconst LoginPage = () => {\n  const [userDataFromLS] = useLocalStorage('snakePlayer');\n\n  const [login, setLogin] = useState('');\n\n  const loginFieldHandler = ({ target }) => {\n    setLogin(target.value);\n  };\n\n  const history = useHistory();\n\n  const startGameHandler = () =>\n    signUp(login)\n      .then(({ user }) =>\n        writeStorage('snakePlayer', {\n          login: user.data.login,\n          scores: user.data.topScores,\n          level: user.data.topLevel,\n          token: user.token,\n          id: user.data._id,\n        })\n      )\n      .then((_) => history.push('/'))\n      .catch((e) => console.log(e));\n\n  const loginHandler = () =>\n    checkIsUserExist(userDataFromLS.id)\n      .then(({ isExist }) => {\n        if (isExist) {\n          return history.push('/');\n        } else {\n          return signUp(userDataFromLS.login)\n            .then(({ user }) =>\n              writeStorage('snakePlayer', {\n                ...userDataFromLS,\n                login: user.data.login,\n                token: user.token,\n                id: user.data._id,\n              })\n            )\n            .then((_) => history.push('/'));\n        }\n      })\n      .catch((e) => console.log(e));\n\n  return (\n    <div className=\"container\">\n      <div className=\"pageWrapper\">\n        {userDataFromLS ? (\n          <>\n            <h1 className=\"pageTitle\">{`Hello ${userDataFromLS.login}`}</h1>\n            <button onClick={loginHandler} className={Styles.btn}>\n              Start Game\n            </button>\n          </>\n        ) : (\n          <>\n            <h1 className=\"pageTitle\">What's your name?</h1>\n            <input\n              className={Styles.input}\n              type=\"text\"\n              value={login}\n              onChange={loginFieldHandler}\n            />\n            <button\n              className={Styles.btn}\n              onClick={startGameHandler}\n              disabled={login.length < 3}\n            >\n              Start Game\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React from 'react';\nimport Styles from './TopScoresListItem.module.scss';\n\nconst TopScoresListItem = ({ user }) => (\n  <div className={Styles.listItem}>\n    <span className={Styles.login}>{user.login}</span>\n    <span className={Styles.scores}>{user.topScores}</span>\n    <span className={Styles.level}>{user.topLevel}</span>\n  </div>\n);\n\nexport default TopScoresListItem;\n","import React, { useState, useEffect } from 'react';\nimport TopScoresListItem from '../TopScoresListItem/TopScoresListItem';\nimport { getAllUsers } from '../../ApiRequests/ApiRequests';\nimport Styles from './TopScoresList.module.scss';\n\nconst TopScoresList = () => {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    async function getUsers() {\n      const users = await getAllUsers();\n\n      setUsers(users);\n    }\n\n    getUsers();\n  }, []);\n\n  return (\n    <ul className={Styles.list}>\n      <div className={Styles.listTitle}>\n        <span className={Styles.listTitleItem}>Login</span>\n        <span className={Styles.listTitleItem}>Scores</span>\n        <span className={Styles.listTitleItem}>Top Level</span>\n      </div>\n      {users\n        .sort((a, b) => b.topScores - a.topScores)\n        .map((user) => (\n          <li key={user._id}>\n            <TopScoresListItem user={user} />\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default TopScoresList;\n","import React from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport TopScoresList from '../../Components/TopScoresList/TopScoresList';\nimport Styles from './StatsPage.module.scss';\n\nconst StatsPage = () => {\n  const [user] = useLocalStorage('snakePlayer');\n\n  return user ? (\n    <div className=\"container\">\n      {' '}\n      <div className=\"pageWrapper\">\n        <h1 className=\"pageTitle\">Top Scores</h1>\n        <div className={Styles.usersList}>\n          <TopScoresList />\n        </div>\n        <Link className=\"link\" to=\"/\">\n          Back to game\n        </Link>\n      </div>\n    </div>\n  ) : (\n    <Redirect to=\"/login\" />\n  );\n};\n\nexport default StatsPage;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport GamePage from './Pages/GamePage/GamePage';\nimport LoginPage from './Pages/LoginPage/LoginPage';\nimport StatsPage from './Pages/StatsPage/StatsPage';\n\nconst App = () => {\n  const [isVisited, setIsVisited] = useState(false);\n\n  useEffect(() => {\n    setIsVisited(true);\n  }, []);\n  return (\n    <Switch>\n      {isVisited && <Route path=\"/\" exact component={GamePage} />}\n      <Route path=\"/stats\" component={StatsPage} />\n      <Route path=\"/login\" component={LoginPage} />\n      <Redirect to=\"/login\" />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/snake-game-front\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}