{"version":3,"sources":["Components/Game/GameOverScene.js","Components/Game/GameScene.js","libs/getUserFromLS.js","libs/updateUserInLS.js","ApiRequests/ApiRequests.js","Components/Game/game.config.js","Components/Game/StartScene.js","Components/Game/Game.js","Pages/GamePage/GamePage.js","Pages/LoginPage/LoginPage.js","Components/TopScoresListItem/TopScoresListItem.js","Components/TopScoresList/TopScoresList.js","Pages/StatsPage/StatsPage.js","App.js","index.js","Components/TopScoresList/TopScoresList.module.scss","Components/TopScoresListItem/TopScoresListItem.module.scss","Pages/LoginPage/LoginPage.module.scss","Pages/StatsPage/StatsPage.module.scss","Pages/GamePage/GamePage.module.scss","../node_modules/@ion-phaser/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["isWin","scores","snake","food","cursors","roundScores","level","scoresInfo","timer","a","JSON","parse","localStorage","getItem","user","console","log","updatedUser","setItem","stringify","getAllUsers","axios","get","then","res","data","signUp","userData","post","login","postResault","token","headers","Authorization","gameConfig","scoresToWin","timeForGame","history","createBrowserHistory","GameOverScene","resault","this","cameras","main","setBackgroundColor","game","scene","add","GameScene","text","fill","fontSize","cursor","setOrigin","setInteractive","on","redirectToTopScoresPage","bind","winDisplay","loseDisplay","nextLevelHandler","start","saveGameResault","getUserFromLS","updateUserInLS","catch","e","push","go","Phaser","Scene","load","image","Food","Class","Extends","GameObjects","Image","initialize","x","y","call","setTexture","setPosition","total","children","eat","Snake","speed","headPosition","Geom","Point","body","group","head","create","alive","moveTime","tail","heading","direction","update","time","move","faceLeft","faceRight","faceUp","faceDown","Math","Wrap","Actions","ShiftPosition","getChildren","GetFirst","grow","collideWithFood","updateGrid","grid","each","segment","bx","by","setTimeout","input","keyboard","createCursorKeys","delta","left","isDown","right","up","down","setText","repositionFood","clearTimeout","testGrid","validLocations","length","pos","floor","random","StartScene","onContinueHandler","onStartNewGameHandler","Game","state","width","height","type","AUTO","Component","GamePage","useLocalStorage","className","Styles","gameContainer","to","LoginPage","userDataFromLS","useState","setLogin","useHistory","onClick","userId","id","isExist","writeStorage","_id","_","btn","value","onChange","target","topScores","topLevel","disabled","TopScoresListItem","listItem","TopScoresList","users","setUsers","useEffect","getUsers","list","listTitle","listTitleItem","sort","b","map","StatsPage","usersList","link","App","isVisited","setIsVisited","path","exact","component","ReactDOM","render","StrictMode","document","getElementById","module","exports","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","code","ids","keys","Object"],"mappings":"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","file":"static/js/main.47d76505.chunk.js","sourcesContent":["import Phaser from 'phaser';\nimport { createBrowserHistory } from 'history';\nimport getUserFromLS from '../../libs/getUserFromLS';\nimport updateUserInLS from '../../libs/updateUserInLS';\nimport { postResault } from '../../ApiRequests/ApiRequests';\nimport GameScene from './GameScene';\nimport gameConfig from './game.config';\n\nlet history = createBrowserHistory();\nlet isWin;\nlet scores;\n\nexport default class GameOverScene extends Phaser.Scene {\n  constructor() {\n    super('GameOverScene');\n  }\n  init(data) {\n    isWin = data.resault >= gameConfig.scoresToWin;\n    scores = data.resault;\n  }\n\n  preload() {\n    this.cameras.main.setBackgroundColor('#24252A');\n    this.game.scene.add('GameScene', GameScene);\n  }\n  create() {\n    this.add\n      .text(150, 200, `Top Scores`, {\n        fill: '#0f0',\n        fontSize: 20,\n        cursor: 'pointer',\n      })\n      .setOrigin(0.5)\n      .setInteractive()\n      .on('pointerdown', this.redirectToTopScoresPage.bind(this));\n\n    if (isWin) {\n      return this.winDisplay();\n    } else {\n      return this.loseDisplay();\n    }\n  }\n\n  winDisplay() {\n    this.add\n      .text(300, 50, `You win :-)`, {\n        fill: '#0f0',\n        fontSize: 40,\n      })\n      .setOrigin(0.5);\n\n    this.add\n      .text(450, 200, `Next Level`, {\n        fill: '#0f0',\n        fontSize: 20,\n      })\n      .setOrigin(0.5)\n      .setInteractive()\n      .on('pointerdown', this.nextLevelHandler.bind(this));\n  }\n\n  loseDisplay() {\n    this.add\n      .text(300, 50, `You lose :-(`, {\n        fill: '#0f0',\n        fontSize: 40,\n      })\n      .setOrigin(0.5);\n\n    this.add\n      .text(450, 200, `Restart`, {\n        fill: '#0f0',\n        fontSize: 20,\n      })\n      .setOrigin(0.5)\n      .setInteractive()\n      .on('pointerdown', () => this.scene.start('GameScene'));\n  }\n\n  async nextLevelHandler() {\n    await this.saveGameResault();\n    this.scene.start('GameScene');\n  }\n\n  async saveGameResault() {\n    const user = await getUserFromLS();\n\n    const updatedUser = {\n      ...user,\n      level: (user.level += 1),\n      scores: (user.scores += scores),\n    };\n\n    await postResault(updatedUser)\n      .then(() => updateUserInLS(updatedUser))\n      .catch((e) => console.log(e));\n  }\n\n  async redirectToTopScoresPage() {\n    await this.saveGameResault();\n    history.push('/stats');\n    history.go();\n  }\n}\n","import Phaser from 'phaser';\nimport getUserFromLS from '../../libs/getUserFromLS';\nimport GameOverScene from './GameOverScene';\nimport gameConfig from './game.config';\n\nlet snake;\nlet food;\nlet cursors;\nlet roundScores;\nlet level;\nlet scoresInfo;\nlet timer;\n\n//  Direction consts\nconst UP = 0;\nconst DOWN = 1;\nconst LEFT = 2;\nconst RIGHT = 3;\n\nexport default class GameScene extends Phaser.Scene {\n  constructor() {\n    super('GameScene');\n  }\n\n  async init() {\n    roundScores = 0;\n    const user = await getUserFromLS();\n    level = user.level;\n  }\n\n  preload() {\n    this.cameras.main.setBackgroundColor('#24252A');\n    this.game.scene.add('GameOverScene', GameOverScene);\n    this.load.image('food', './coin.png');\n    this.load.image('player', './player.png');\n  }\n\n  create() {\n    const Food = new Phaser.Class({\n      Extends: Phaser.GameObjects.Image,\n\n      initialize: function Food(scene, x, y) {\n        Phaser.GameObjects.Image.call(this, scene);\n\n        this.setTexture('food');\n        this.setPosition(x * 16, y * 16);\n        this.setOrigin(0);\n\n        this.total = 0;\n\n        scene.children.add(this);\n      },\n\n      eat: function () {\n        this.total++;\n      },\n    });\n\n    const Snake = new Phaser.Class({\n      initialize: function Snake(scene, x, y, speed) {\n        this.headPosition = new Phaser.Geom.Point(x, y);\n\n        this.body = scene.add.group();\n\n        this.head = this.body.create(x * 10, y * 10, 'player');\n        this.head.setOrigin(0);\n\n        this.alive = true;\n\n        this.speed = speed;\n\n        this.moveTime = 0;\n\n        this.tail = new Phaser.Geom.Point(x, y);\n\n        this.heading = RIGHT;\n        this.direction = RIGHT;\n      },\n\n      update: function (time) {\n        if (time >= this.moveTime) {\n          return this.move(time);\n        }\n      },\n\n      faceLeft: function () {\n        if (this.direction === UP || this.direction === DOWN) {\n          this.heading = LEFT;\n        }\n      },\n\n      faceRight: function () {\n        if (this.direction === UP || this.direction === DOWN) {\n          this.heading = RIGHT;\n        }\n      },\n\n      faceUp: function () {\n        if (this.direction === LEFT || this.direction === RIGHT) {\n          this.heading = UP;\n        }\n      },\n\n      faceDown: function () {\n        if (this.direction === LEFT || this.direction === RIGHT) {\n          this.heading = DOWN;\n        }\n      },\n\n      move: function (time) {\n        switch (this.heading) {\n          case LEFT:\n            this.headPosition.x = Phaser.Math.Wrap(\n              this.headPosition.x - 1,\n              0,\n              38,\n            );\n            break;\n\n          case RIGHT:\n            this.headPosition.x = Phaser.Math.Wrap(\n              this.headPosition.x + 1,\n              0,\n              38,\n            );\n            break;\n\n          case UP:\n            this.headPosition.y = Phaser.Math.Wrap(\n              this.headPosition.y - 1,\n              0,\n              18,\n            );\n            break;\n\n          case DOWN:\n            this.headPosition.y = Phaser.Math.Wrap(\n              this.headPosition.y + 1,\n              0,\n              18,\n            );\n            break;\n          default:\n            break;\n        }\n\n        this.direction = this.heading;\n\n        Phaser.Actions.ShiftPosition(\n          this.body.getChildren(),\n          this.headPosition.x * 16,\n          this.headPosition.y * 16,\n          1,\n          this.tail,\n        );\n\n        const hitBody = Phaser.Actions.GetFirst(\n          this.body.getChildren(),\n          { x: this.head.x, y: this.head.y },\n          1,\n        );\n\n        if (hitBody) {\n          this.alive = false;\n\n          return false;\n        } else {\n          this.moveTime = time + this.speed;\n\n          return true;\n        }\n      },\n\n      grow: function () {\n        const newPart = this.body.create(this.tail.x, this.tail.y, 'player');\n\n        newPart.setOrigin(0);\n      },\n\n      collideWithFood: function (food) {\n        if (this.head.x === food.x && this.head.y === food.y) {\n          this.grow();\n\n          food.eat();\n\n          if (this.speed > 20 && food.total % 5 === 0) {\n            this.speed -= 5;\n          }\n\n          return true;\n        } else {\n          return false;\n        }\n      },\n\n      updateGrid: function (grid) {\n        this.body.children.each(function (segment) {\n          const bx = segment.x / 16;\n          const by = segment.y / 16;\n\n          grid[by][bx] = false;\n        });\n\n        return grid;\n      },\n    });\n\n    food = new Food(this, 3, 4);\n\n    snake = new Snake(this, 8, 8, 100 - level * 5);\n    timer = setTimeout(() => {\n      snake.alive = false;\n      this.scene.start('GameOverScene', { resault: roundScores });\n    }, gameConfig.timeForGame);\n\n    cursors = this.input.keyboard.createCursorKeys();\n\n    scoresInfo = this.add.text(500, 50, `${roundScores}`, {\n      fill: '#0f0',\n    });\n  }\n\n  update(time, delta) {\n    if (!snake.alive) {\n      this.scene.start('GameOverScene');\n      return;\n    }\n\n    if (cursors.left.isDown) {\n      snake.faceLeft();\n    } else if (cursors.right.isDown) {\n      snake.faceRight();\n    } else if (cursors.up.isDown) {\n      snake.faceUp();\n    } else if (cursors.down.isDown) {\n      snake.faceDown();\n    }\n\n    if (snake.update(time)) {\n      if (snake.collideWithFood(food)) {\n        roundScores += 10;\n        scoresInfo.setText(`${roundScores}`);\n        this.repositionFood();\n\n        if (roundScores >= gameConfig.scoresToWin) {\n          clearTimeout(timer);\n          this.scene.start('GameOverScene', { resault: roundScores });\n        }\n      }\n    }\n  }\n\n  repositionFood() {\n    const testGrid = [];\n\n    for (let y = 0; y < 17; y++) {\n      testGrid[y] = [];\n\n      for (let x = 0; x < 37; x++) {\n        testGrid[y][x] = true;\n      }\n    }\n\n    snake.updateGrid(testGrid);\n\n    const validLocations = [];\n\n    for (let y = 0; y < 17; y++) {\n      for (let x = 0; x < 37; x++) {\n        if (testGrid[y][x] === true) {\n          validLocations.push({ x: x, y: y });\n        }\n      }\n    }\n\n    if (validLocations.length > 0) {\n      const pos =\n        validLocations[Math.floor(Math.random() * validLocations.length)];\n\n      food.setPosition(pos.x * 16, pos.y * 16);\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","export default async () => {\n  try {\n    const user = await JSON.parse(localStorage.getItem('snakePlayer'));\n\n    if (user) {\n      return user;\n    } else {\n      return null;\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};\n","export default async (updatedUser) => {\n  try {\n    localStorage.setItem('snakePlayer', JSON.stringify(updatedUser));\n\n    return true;\n  } catch (e) {\n    console.log(e);\n  }\n};\n","import axios from 'axios';\n\nexport const getAllUsers = () =>\n  axios\n    .get('https://boiling-scrubland-96345.herokuapp.com/users')\n    .then((res) => res.data);\n\nexport const signUp = (userData) =>\n  axios\n    .post('https://boiling-scrubland-96345.herokuapp.com/users/new-user', {\n      login: userData,\n    })\n    .then((res) => res.data);\n\nexport const checkIsUserExist = (userId) =>\n  axios\n    .get(`https://boiling-scrubland-96345.herokuapp.com/users/${userId}`)\n    .then((res) => res.data);\n\nexport const postResault = ({ scores, level, token }) =>\n  axios.post(\n    'https://boiling-scrubland-96345.herokuapp.com/users/update-resault',\n    { scores, level },\n    {\n      headers: { Authorization: token },\n    }\n  );\n","const gameConfig = {\n  scoresToWin: 100,\n  timeForGame: 60000,\n};\n\nexport default gameConfig;\n","import Phaser from 'phaser';\nimport getUserFromLS from '../../libs/getUserFromLS';\nimport updateUserInLS from '../../libs/updateUserInLS';\nimport GameScene from './GameScene';\n\nexport default class StartScene extends Phaser.Scene {\n  constructor() {\n    super('StartScene');\n  }\n  preload() {\n    this.cameras.main.setBackgroundColor('#24252A');\n    this.game.scene.add('GameScene', GameScene);\n  }\n  async create() {\n    this.add\n      .text(150, 200, 'Continue', {\n        fill: '#0f0',\n      })\n      .setInteractive()\n      .on('pointerdown', this.onContinueHandler.bind(this));\n    this.add\n      .text(300, 200, 'Start New Game', {\n        fill: '#0f0',\n      })\n      .setInteractive()\n      .on('pointerdown', this.onStartNewGameHandler.bind(this));\n\n    const { scores } = await getUserFromLS();\n    this.add.text(500, 50, `${scores}`, {\n      fill: '#0f0',\n    });\n  }\n\n  onContinueHandler() {\n    this.scene.start('GameScene');\n  }\n\n  async onStartNewGameHandler() {\n    const user = await getUserFromLS();\n\n    await updateUserInLS({ ...user, scores: 0, level: 1 });\n    this.scene.start('GameScene');\n  }\n}\n","import React, { Component } from 'react';\nimport Phaser from 'phaser';\nimport { IonPhaser } from '@ion-phaser/react';\nimport StartScene from './StartScene';\n\nclass Game extends Component {\n  state = {\n    initialize: true,\n\n    game: {\n      width: 600,\n      height: 300,\n      type: Phaser.AUTO,\n      scene: StartScene,\n    },\n  };\n\n  render() {\n    const { initialize, game } = this.state;\n    return <IonPhaser game={game} initialize={initialize} />;\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { Redirect } from 'react-router-dom';\nimport Game from '../../Components/Game/Game';\nimport Styles from './GamePage.module.scss';\n\nconst GamePage = () => {\n  const [user] = useLocalStorage('snakePlayer');\n\n  return user ? (\n    <div className=\"container\">\n      <div className=\"pageWrapper\">\n        <h1 className=\"pageTitle\">GamePage</h1>\n        <div className={Styles.gameContainer}>\n          <Game />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <Redirect to=\"/login\" />\n  );\n};\n\nexport default GamePage;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useLocalStorage, writeStorage } from '@rehooks/local-storage';\nimport { signUp, checkIsUserExist } from '../../ApiRequests/ApiRequests';\nimport Styles from './LoginPage.module.scss';\n\nconst LoginPage = () => {\n  const [userDataFromLS] = useLocalStorage('snakePlayer');\n\n  const [login, setLogin] = useState('');\n\n  const loginFieldHandler = ({ target }) => {\n    setLogin(target.value);\n  };\n\n  const history = useHistory();\n\n  const startGameHandler = () =>\n    signUp(login)\n      .then(({ user }) =>\n        writeStorage('snakePlayer', {\n          login: user.data.login,\n          scores: user.data.topScores,\n          level: user.data.topLevel,\n          token: user.token,\n          id: user.data._id,\n        })\n      )\n      .then((_) => history.push('/'))\n      .catch((e) => console.log(e));\n\n  const loginHandler = () =>\n    checkIsUserExist(userDataFromLS.id)\n      .then(({ isExist }) => {\n        if (isExist) {\n          return history.push('/');\n        } else {\n          return signUp(userDataFromLS.login)\n            .then(({ user }) =>\n              writeStorage('snakePlayer', {\n                ...userDataFromLS,\n                login: user.data.login,\n                token: user.token,\n                id: user.data._id,\n              })\n            )\n            .then((_) => history.push('/'));\n        }\n      })\n      .catch((e) => console.log(e));\n\n  return (\n    <div className=\"container\">\n      <div className=\"pageWrapper\">\n        {userDataFromLS ? (\n          <>\n            <h1 className=\"pageTitle\">{`Hello ${userDataFromLS.login}`}</h1>\n            <button onClick={loginHandler} className={Styles.btn}>\n              Start Game\n            </button>\n          </>\n        ) : (\n          <>\n            <h1 className=\"pageTitle\">What's your name?</h1>\n            <input\n              className={Styles.input}\n              type=\"text\"\n              value={login}\n              onChange={loginFieldHandler}\n            />\n            <button\n              className={Styles.btn}\n              onClick={startGameHandler}\n              disabled={login.length < 3}\n            >\n              Start Game\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React from 'react';\nimport Styles from './TopScoresListItem.module.scss';\n\nconst TopScoresListItem = ({ user }) => (\n  <div className={Styles.listItem}>\n    <span className={Styles.login}>{user.login}</span>\n    <span className={Styles.scores}>{user.topScores}</span>\n    <span className={Styles.level}>{user.topLevel}</span>\n  </div>\n);\n\nexport default TopScoresListItem;\n","import React, { useState, useEffect } from 'react';\nimport TopScoresListItem from '../TopScoresListItem/TopScoresListItem';\nimport { getAllUsers } from '../../ApiRequests/ApiRequests';\nimport Styles from './TopScoresList.module.scss';\n\nconst TopScoresList = () => {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    async function getUsers() {\n      const users = await getAllUsers();\n\n      setUsers(users);\n    }\n\n    getUsers();\n  }, []);\n\n  return (\n    <ul className={Styles.list}>\n      <div className={Styles.listTitle}>\n        <span className={Styles.listTitleItem}>Login</span>\n        <span className={Styles.listTitleItem}>Scores</span>\n        <span className={Styles.listTitleItem}>Top Level</span>\n      </div>\n      {users\n        .sort((a, b) => b.topScores - a.topScores)\n        .map((user) => (\n          <li key={user._id}>\n            <TopScoresListItem user={user} />\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default TopScoresList;\n","import React from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport TopScoresList from '../../Components/TopScoresList/TopScoresList';\nimport Styles from './StatsPage.module.scss';\n\nconst StatsPage = () => {\n  const [user] = useLocalStorage('snakePlayer');\n\n  return user ? (\n    <div className=\"container\">\n      {' '}\n      <div className=\"pageWrapper\">\n        <h1 className=\"pageTitle\">Top Scores</h1>\n        <div className={Styles.usersList}>\n          <TopScoresList />\n        </div>\n        <Link className={Styles.link} to=\"/\">\n          Back to game\n        </Link>\n      </div>\n    </div>\n  ) : (\n    <Redirect to=\"/login\" />\n  );\n};\n\nexport default StatsPage;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport GamePage from './Pages/GamePage/GamePage';\nimport LoginPage from './Pages/LoginPage/LoginPage';\nimport StatsPage from './Pages/StatsPage/StatsPage';\n\nconst App = () => {\n  const [isVisited, setIsVisited] = useState(false);\n\n  useEffect(() => {\n    setIsVisited(true);\n  }, []);\n  return (\n    <Switch>\n      {isVisited && <Route path=\"/\" exact component={GamePage} />}\n      <Route path=\"/stats\" component={StatsPage} />\n      <Route path=\"/login\" component={LoginPage} />\n      <Redirect to=\"/login\" />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"TopScoresList_list__98ref\",\"listTitle\":\"TopScoresList_listTitle__COYT8\",\"listTitleItem\":\"TopScoresList_listTitleItem__8gfX1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"TopScoresListItem_listItem__24pFw\",\"login\":\"TopScoresListItem_login__KZ6UO\",\"scores\":\"TopScoresListItem_scores__z3mOV\",\"level\":\"TopScoresListItem_level__guGbJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"LoginPage_input__3E3Lp\",\"btn\":\"LoginPage_btn__sjJIY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"StatsPage_usersList__1qn4c\",\"link\":\"StatsPage_link__16-3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameContainer\":\"GamePage_gameContainer__2Ktxd\"};","var map = {\n\t\"./ion-phaser.entry.js\": [\n\t\t103,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 76;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}